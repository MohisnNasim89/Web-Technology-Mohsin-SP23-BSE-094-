<div class="allCons container crp">
    <h2 class="text-center mb-4 fw-bold">Your Past Orders</h2>

    <!-- Orders Table -->
    <div class="bg-white shadow p-4 rounded">
        <% if (orders.length === 0) { %>
            <p class="text-center">You have not placed any orders yet.</p>
        <% } else { %>
            <table class="table table-bordered">
                <thead class="thead-dark">
                    <tr>
                        <th>Order Date</th>
                        <th>Products</th>
                        <th>Total Price</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <% orders.forEach(order => { %>
                        <tr>
                            <td><%= order.createdAt.toLocaleDateString() %></td>
                            <td>
                                <ul>
                                    <% order.products.forEach(p => { %>
                                        <li>
                                            <%= p.product.name %> (x<%= p.quantity %>): $<%= p.product.price * p.quantity %>
                                        </li>
                                    <% }); %>
                                </ul>
                            </td>
                            <td>$<%= order.totalPrice %></td>
                            <td><%= order.status %></td>
                        </tr>
                    <% }); %>
                </tbody>
            </table>
        <% } %>
    </div>
</div>